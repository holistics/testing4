Dashboard vux_test {
  title: 'vux-test'
  description: ''
  owner: 'vu.dq@holistics.io'
  block title: TextBlock {
    content: @md # Your title goes here ;;
  }
  block v_a79o: VizBlock {
    label: 'Revenue Percentage by Status'
    viz: PieChart {
      dataset: ecom_dataset_vux
      calculation revenue_percentage {
        label: 'Revenue Percentage'
        formula: @aql (order_master.revenue * 1.0)
/ (order_master.revenue | of_all(order_master, keep_filters: true));;
        calc_type: 'measure'
        data_type: 'number'
      }
      legend: VizFieldFull {
        ref: r(order_master.status)
        format {
          type: 'text'
        }
      }
      series {
        field: VizFieldFull {
          ref: 'revenue_percentage'
          format {
            type: 'number'
            pattern: '#,###%'
          }
        }
      }
      settings {
        display_as_donut: true
        row_limit: 5000
        show_percentage: true
        data_label_position: 'none'
        aggregate_awareness {
          enabled: true
          debug_comments: true
        }
      }
    }
  }

  view: CanvasLayout {
    label: 'View 1'
    width: 1300
    height: 880
    grid_size: 20
    auto_expand_vertically: true
    block title {
      position: pos(20, 20, 1260, 60)
    }
    block v_a79o {
      position: pos(20, 80, 600, 460)
    }
    mobile {
      mode: 'auto'
    }
  }

  theme: H.themes.vanilla
}